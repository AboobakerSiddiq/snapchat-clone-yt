(this["webpackJsonpsnapchat-clone-yt"]=this["webpackJsonpsnapchat-clone-yt"]||[]).push([[0],{100:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(29),i=c.n(s),r=(c(78),c(79),c(56)),o=c.n(r),l=c(47),j=c.n(l),u=c(12),d=c(38),b=Object(d.b)({name:"camera",initialState:{cameraImage:null},reducers:{setCameraImage:function(e,t){e.cameraImage=t.payload},resetCameraImage:function(e){e.cameraImage=null}}}),h=b.actions,m=h.setCameraImage,p=h.resetCameraImage,O=function(e){return e.camera.cameraImage},f=b.reducer,g=c(10),x=(c(85),c(4)),v={width:250,height:400,facingMode:"user"};var w=function(){var e=Object(a.useRef)(null),t=Object(u.b)(),c=Object(g.f)(),n=Object(a.useCallback)((function(){var a=e.current.getScreenshot();t(m(a)),c.push("/preview")}),[e]);return Object(x.jsxs)("div",{className:"webcamCapture",children:[Object(x.jsx)(o.a,{audio:!1,height:v.height,ref:e,screenshotFormat:"image/jpeg",width:v.width,videoConstraints:v}),Object(x.jsx)(j.a,{className:"webcamCapture_button",onClick:n,fontSize:"large"})]})},N=(c(91),c(58)),I=c.n(N),_=c(59),C=c.n(_),y=c(60),k=c.n(y),S=c(61),P=c.n(S),E=c(62),U=c.n(E),z=c(63),A=c.n(z),F=c(64),B=c.n(F),L=c(65),R=c.n(L),T=c(66),V=c.n(T),D=c(117),W=c(34),J=W.a.initializeApp({apiKey:"AIzaSyAF2wuJdEd2vVwE8FS3CzeYXEvMVNa-o9w",authDomain:"snapchat-clone-yt-2302b.firebaseapp.com",projectId:"snapchat-clone-yt-2302b",storageBucket:"snapchat-clone-yt-2302b.appspot.com",messagingSenderId:"901066597535",appId:"1:901066597535:web:bf857a1f857552de89eeaa"}).firestore(),M=W.a.auth(),G=W.a.storage(),q=new W.a.auth.GoogleAuthProvider,K=Object(d.b)({name:"app",initialState:{user:null,selectedImage:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null},selectImage:function(e,t){e.selectedImage=t.payload},resetImage:function(e){e.selectedImage=null}}}),X=K.actions,Y=X.login,$=X.logout,H=X.selectImage,Q=(X.resetImage,function(e){return e.app.user}),Z=function(e){return e.app.selectedImage},ee=K.reducer;var te=function(){var e=Object(u.c)(O),t=Object(g.f)(),c=Object(u.b)(),n=Object(u.c)(Q);return Object(a.useEffect)((function(){e||t.replace("/")}),[e,t]),Object(x.jsxs)("div",{className:"preview",children:[Object(x.jsx)(I.a,{onClick:function(){c(p())},className:"preview_close"}),Object(x.jsxs)("div",{className:"preview_toolbarRight",children:[Object(x.jsx)(C.a,{}),Object(x.jsx)(k.a,{}),Object(x.jsx)(P.a,{}),Object(x.jsx)(U.a,{}),Object(x.jsx)(A.a,{}),Object(x.jsx)(B.a,{}),Object(x.jsx)(R.a,{})]}),Object(x.jsx)("img",{src:e,alt:""}),Object(x.jsxs)("div",{onClick:function(){var c=Object(D.a)();G.ref("posts/".concat(c)).putString(e,"data_url").on("state_changed",null,(function(e){console.log(e)}),(function(){G.ref("posts").child(c).getDownloadURL().then((function(e){J.collection("posts").add({imageUrl:e,username:"Abu_Siddiq",read:!1,profilePic:n.profilePic,timestamp:W.a.firestore.FieldValue.serverTimestamp()}),t.replace("/chats")}))}))},className:"preview_footer",children:[Object(x.jsx)("h2",{children:"Send Now"}),Object(x.jsx)(V.a,{fontSize:"small",classsName:"preview_sendIcon"})]})]})},ce=c(35),ae=c(33),ne=(c(96),c(118)),se=c(68),ie=c.n(se),re=c(69),oe=c.n(re),le=(c(97),c(67)),je=c.n(le),ue=c(71);var de=function(e){var t=e.id,c=e.username,a=e.timestamp,n=e.read,s=e.imageUrl,i=e.profilePic,r=Object(u.b)(),o=Object(g.f)();return Object(x.jsxs)("div",{onClick:function(){n||(r(H(s)),J.collection("posts").doc(t).set({read:!0},{merge:!0}),o.push("/chats/view"))},className:"chat",children:[Object(x.jsx)(ne.a,{className:"chat_avatar",src:i}),Object(x.jsxs)("div",{className:"chat_info",children:[Object(x.jsx)("h4",{children:c}),Object(x.jsxs)("p",{children:[!n&&"Tap to view-",""," ",Object(x.jsx)(ue.a,{date:new Date(a?a.toDate():"").toUTCString()})]})]}),!n&&Object(x.jsx)(je.a,{className:"chat_readIcon"})]})};var be=function(){var e=Object(a.useState)([]),t=Object(ae.a)(e,2),c=t[0],n=t[1],s=Object(u.c)(Q),i=Object(u.b)(),r=Object(g.f)();return Object(a.useEffect)((function(){J.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){return n(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(x.jsxs)("div",{className:"chats",children:[Object(x.jsxs)("div",{className:"chats_header",children:[Object(x.jsx)(ne.a,{src:s.profilePic,onClick:function(){return M.signOut()},className:"chats_avatar"}),Object(x.jsxs)("div",{className:"chats_search",children:[Object(x.jsx)(ie.a,{className:"chats_searchIcon"}),Object(x.jsx)("input",{type:"text",placeholder:"Friends"})]}),Object(x.jsx)(oe.a,{className:"chats_chatIcon"})]}),Object(x.jsx)("div",{className:"chat_posts",children:c.map((function(e){var t=e.id,c=e.data,a=c.profilePic,n=c.username,s=c.timestamp,i=c.imageUrl,r=c.read;return Object(x.jsx)(de,{id:t,username:n,timestamp:s,imageUrl:i,read:r,profilePic:a},t)}))}),Object(x.jsx)(j.a,{className:"chats_takePicIcon",onClick:function(){i(p()),r.push("/")},fontSize:"large"})]})},he=(c(98),c(70));var me=function(){var e=Object(u.c)(Z),t=Object(g.f)();Object(a.useEffect)((function(){e||c()}),[]);var c=function(){t.replace("/chats")};return Object(x.jsxs)("div",{className:"chatView",children:[Object(x.jsx)("img",{src:e,onClick:c,alt:""}),Object(x.jsx)("div",{className:"chatView_timer",children:Object(x.jsx)(he.CountdownCircleTimer,{isPlaying:!0,duration:10,strokeWidth:6,size:50,colors:[["#004777",.33],["#F7B801",.33],["#A30000",.33]],children:function(e){var t=e.remainingTime;return 0===t&&c(),t}})})]})},pe=(c(99),c(116));var Oe=function(){var e=Object(u.b)();return Object(x.jsx)("div",{className:"Login",children:Object(x.jsxs)("div",{className:"Login_container",children:[Object(x.jsx)("img",{src:"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg",alt:""}),Object(x.jsx)(pe.a,{variant:"outline",onClick:function(){M.signInWithPopup(q).then((function(t){e(Y({username:t.user.displayName,profilePic:t.user.photoURL,id:t.user.uid}))})).catch((function(e){return alert(e.message)}))},children:"Sign in"})]})})};var fe=function(){var e=Object(u.c)(Q),t=Object(u.b)();return Object(a.useEffect)((function(){M.onAuthStateChanged((function(e){t(e?Y({username:e.displayName,profilePic:e.photoURL,id:e.uid}):$())}))}),[]),Object(x.jsx)("div",{className:"app",children:Object(x.jsx)(ce.a,{children:e?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{className:"app_logo",src:"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg",alt:""}),Object(x.jsx)("div",{className:"app_body",children:Object(x.jsx)("div",{className:"app_bodyBackGround",children:Object(x.jsxs)(g.c,{children:[Object(x.jsx)(g.a,{path:"/chats/view",children:Object(x.jsx)(me,{})}),Object(x.jsx)(g.a,{path:"/chats",children:Object(x.jsx)(be,{})}),Object(x.jsx)(g.a,{path:"/preview",children:Object(x.jsx)(te,{})}),Object(x.jsx)(g.a,{exact:!0,path:"/",children:Object(x.jsx)(w,{})})]})})})]}):Object(x.jsx)(Oe,{})})})},ge=Object(d.a)({reducer:{app:ee,camera:f}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(u.a,{store:ge,children:Object(x.jsx)(fe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,t,c){},79:function(e,t,c){},85:function(e,t,c){},91:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){},99:function(e,t,c){}},[[100,1,2]]]);
//# sourceMappingURL=main.c4d755d3.chunk.js.map